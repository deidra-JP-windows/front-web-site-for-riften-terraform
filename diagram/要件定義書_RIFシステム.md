# RIFシステム要件定義書

## 更新日時
2025年7月26日

## 概要・目的
本ドキュメントは、RIFシステム（ゲームコミュニティ用ウェブサイト）のインフラ・運用・開発に関する要件を整理し、関係者間の認識齟齬を防ぐことを目的とします。

## 背景・課題
- ゲームコミュニティの拡大に伴い、安定したインフラ・セキュリティ・運用効率が求められている
- ドキュメント・構成管理の一元化が必要

## 目標・ゴール
- AWSを中心としたIaCによる環境管理の実現
- コミュニティ利用者の利便性・安全性向上
- 低コストでの運用
- 運用・保守の効率化

## 業務要件
当システムの業務要件をまとめています。

### 業務要件
当システムの業務要件をまとめています。
#### 業務実施手順
1. 業務範囲
   - サービス提供に必要な業務の範囲（運用、保守、サポート等）を明確にする。
2. 業務フロー
   - 業務の流れ、各工程の役割分担、承認・報告手順等を整理する。
3. 業務体制
   - 業務遂行に必要な体制（担当者、管理者、外部委託等）を定義する。
4. 扱うデータ
   - 業務で取扱うデータの種類、量、管理方法、保管期間等を明確にする。
5. 管理対象
   - 管理すべき資産（機器、ソフトウェア、ドキュメント等）とその管理方法を整理する。
#### 規模
1. サービスの利用者
   - 想定される利用者数、属性、利用シーン等を定義する。
2. 処理件数
   - 日次・月次・年間等の処理件数、ピーク時の負荷を想定し、必要なリソースを算出する。
#### 時期・時間
1. 時間・時期
   - サービス提供・業務実施の時間帯、繁忙期・閑散期等の時期的要件を整理する。
#### 場所等
1. 業務の実施場所
   - 業務を実施する場所（オフィス、リモート、データセンター等）を明確にする。
2. 作業実施の際に留意すべき事項
   - セキュリティ、アクセス制限、作業環境等の留意事項を整理する。
#### 管理すべき指標
1. プロジェクト目標
   - サービス品質、コスト、納期等のプロジェクト目標を設定する。
2. 管理すべき指標
   - SLA、KPI、CS等、管理すべき指標とその測定・報告方法を明確にする。
#### 情報システム化の範囲
   - 業務のうち情報システム化する範囲、対象業務、非対象業務を明確にする。
#### 業務継続の方針等
   - 災害・障害時の業務継続方針、BCP（事業継続計画）策定、復旧手順等を整理する。
#### 情報セキュリティ対策の基本的な考え方
   - 機密性・完全性・可用性を確保するための基本方針、脅威・脆弱性への対策、権限管理等を徹底する。

### 機能要件
当システムの機能要件をまとめています。
#### 機能
   - サービス提供に必要な主要機能（ユーザー管理、コンテンツ管理、通知機能等）を定義する。
#### 図面
   - システム構成図、ネットワーク図、データフロー図等の設計図面を整備し、関係者間で共有する。
#### 帳票
   - 必要な帳票（利用状況レポート、障害報告書、変更履歴等）の種類・出力要件を明確にする。
#### データ
   - 取扱うデータの種類、構造、保存・取得・更新・削除等の要件を整理する。
#### 外部インターフェイス
   - APIや外部サービス連携の仕様、認証・認可方式、データ交換フォーマット等を定義する。

### 非機能要件
当システムの非機能要件をまとめています。
#### ユーザビリティ
1. ユーザ定義
   - 利用者の属性、利用シーン、権限区分等を定義し、ユーザビリティ向上を図る。
2. ユーザビリティ
   - 操作性、分かりやすさ、ナビゲーション、ヘルプ機能等の要件を整理する。
#### アクセシビリティ
   - 障害者や高齢者も含め、誰もが利用しやすいUI/UX設計、アクセシビリティ基準への準拠を徹底する。
#### システム方式
1. 構成
   - システム全体の構成（サーバ、ネットワーク、ストレージ等）を明確にし、冗長化・拡張性を考慮する。
2. 開発方式
   - 開発手法（アジャイル、ウォーターフォール等）、CI/CD導入、品質管理体制を定義する。
3. 全体構成
   - システムの全体像、各構成要素の役割・連携を整理する。
4. 責任分界点
   - 運用・保守・開発等の責任範囲を明確にし、役割分担を徹底する。
#### 規模
1. 機器
   - 必要なサーバ、ネットワーク機器、ストレージ等の台数・スペックを定義する。
2. 設置場所
   - 機器の設置場所（データセンター、クラウド等）と物理・論理的な管理方法を明確にする。
3. データ量
   - 取扱うデータの量、増加予測、保存期間等を整理する。
4. 処理件数
   - 日次・月次・年間等の処理件数、ピーク時の負荷を想定し、必要なリソースを算出する。
5. 利用者数
   - サービス利用者の規模、増加予測、アクセス集中時の対応を明確にする。
6. アクセス数
   - 想定されるアクセス数、同時接続数、トラフィック量等を定義する。
7. アクセス方式
   - Web、API、バッチ等、各種アクセス方式の要件を整理する。
#### 性能
1. 性能
   - システム全体の応答速度、処理能力、スループット等の性能要件を定義する。
2. オンライン処理の性能
   - オンライン処理におけるレスポンスタイム、同時処理数、可用性等の要件を明確にする。
3. バッチ処理の性能
   - バッチ処理の所要時間、処理件数、スケジューリング要件等を整理する。
4. 検証環境の性能
   - 検証・テスト環境における性能要件、実運用との乖離を最小化するための基準を定義する。
#### 信頼性
1. 信頼性の要件
   - システムの安定稼働、障害発生時の迅速な復旧、データの保全性を確保する。
2. 可用性の要件
   - サービス停止リスクの最小化、冗長化・バックアップ・フェイルオーバー設計を徹底する。
3. 完全性の要件
   - データの正確性・一貫性・改ざん防止を担保する。
#### 拡張性
1. 性能の拡張性
   - 利用者増加やデータ量増加に対応できるよう、システム性能の拡張性を確保する。
2. 機能の拡張性
   - 新機能追加や外部連携など、将来的な機能拡張に柔軟に対応できる設計とする。
#### 上位互換
1. ハードウェアの上位互換性
   - 新世代ハードウェアへの移行や追加導入時も、既存システムとの互換性を維持する。
2. ソフトウェアの上位互換性
   - OSやミドルウェア、アプリケーションのバージョンアップ時も、既存機能やデータの互換性を担保する。
#### 中立性
   - 特定ベンダーや技術に依存せず、将来的な選択肢の拡大や移行の容易性を確保する。
#### 継続性
1. 想定するリスク
   - 災害・障害・サイバー攻撃等、事業継続を脅かすリスクを洗い出し、対策を講じる。
2. 事業再開の定義
   - 事業再開の条件・手順・体制を明確にし、迅速な復旧を可能とする。
3. 継続性に係る目標値
   - RTO（目標復旧時間）、RPO（目標復旧時点）等の目標値を設定し、達成に向けて運用する。
4. 継続性に係る対策
   - バックアップ、冗長化、代替手段の確保など、継続性確保のための具体的な対策を実施する。
#### 情報セキュリティ
   - 機密性・完全性・可用性を確保し、脅威・脆弱性への対策、権限管理、監査ログ取得等を徹底する。
#### 情報システム稼働環境
1. ネットワーク構成
   - システム全体のネットワーク設計、セグメント分離、冗長化などを明確にする。
2. ハードウェア構成
   - サーバ・ストレージ・ネットワーク機器等の構成とスペックを定義する。
3. 共通要件
   - システム全体で共通して求められる要件（セキュリティ、可用性、拡張性等）を整理する。
4. 本番環境
   - 本番運用に必要な環境構成、リソース割当、監視・バックアップ体制を明確にする。
5. 業務検証環境
   - 業務検証・テスト用の環境構成、データ管理、アクセス制御を定義する。
6. ストレージ要件
   - データ保存領域の容量、性能、冗長化、バックアップ要件を明確にする。
7. 周辺機器
   - 必要な周辺機器（UPS、KVM、プリンタ等）の要件と管理方法を整理する。
8. ネットワーク要件
   - 帯域、遅延、冗長化、セキュリティ等のネットワークに関する要件を定義する。
9. クライアント端末要件
   - 利用者端末のスペック、OS、セキュリティ設定等の要件を明確にする。
10. 施設・設備要件
    - サーバルーム、電源、空調、物理セキュリティ等の施設・設備に関する要件を整理する。
11. 外部接続機能要件
    - APIや外部サービス連携に必要な接続要件、セキュリティ対策を定義する。
#### テスト
1. テスト概要
   - システム全体のテスト方針、目的、対象範囲を明確にする。
2. 体制と役割
   - テスト実施体制、担当者の役割分担、責任範囲を定義する。
3. テストに関する要件
   - テスト項目、品質基準、テスト環境、障害対応手順などの要件を整理する。
#### 移行
1. 移行手順
   - システムやデータの移行に関する具体的な手順を策定し、計画的に実施する。
2. 移行要件
   - 移行対象の範囲、移行時の品質・安全性・可用性などの要件を明確にし、リスクを最小化する。
#### 引継ぎ
1. 引継ぎ事項
   - 業務やシステム運用に必要な情報・ノウハウ・履歴を整理し、確実に引継ぐ。
2. 引継ぎ手順
   - 引継ぎの流れや担当者、必要なドキュメント・教育内容を明確にし、円滑な引継ぎを実施する。
#### 教育
1. 教育の担当者の範囲
   - システム運用・保守に関わる担当者の範囲を定義し、必要な教育を計画する。
2. 教育方法
   - 実践的な研修、マニュアル・FAQの活用、OJTなど多様な教育方法を採用する。
3. 教材の作成
   - 運用・保守手順書、障害対応マニュアル、変更履歴などの教材を整備し、常に最新化する。
#### 運用
1. 障害管理機能
   - システム障害の検知、一次対応、復旧、原因分析、再発防止策の実施。
2. ネットワーク管理機能
   - ネットワーク構成の管理、トラフィック監視、障害対応。
3. クライアント端末管理機能
   - 利用端末の管理、セキュリティ設定、障害対応。
4. サーバ管理機能
   - サーバの構成管理、リソース監視、障害対応。
5. 仮想サーバ管理機能
   - 仮想化環境の運用・管理、リソース割当、障害対応。
6. ストレージ管理機能
   - データ保存領域の管理、容量監視、障害対応。
7. バックアップ管理機能
   - 定期バックアップの実施、リストア手順の整備、障害時の復旧。
8. ITサービスマネジメント機能
   - ITIL等に基づく運用管理、サービス品質の維持。
9. 電源管理機能
   - サーバ・ネットワーク機器の電源管理、障害時の対応。
10. ログ管理機能
    - システム・操作ログの取得、監査、保管、分析。
11. セキュリティ管理機能
    - 権限管理、脆弱性対応、インシデント対応、監査ログ取得。
12. 情報共有機能
    - 運用情報・障害情報・変更履歴の共有。
13. サービスメンテナンス機能
    - 定期メンテナンスの計画・実施、影響範囲の通知。
14. デプロイ機能
    - 新機能・修正の本番反映、ロールバック手順の整備。
15. システム移行対応
    - 新環境への移行計画、データ移行、移行後の検証。
#### 保守
1. 基本設計
   - 本システムの保守においては、安定した運用と継続的な改善を目指す。
2. 予防保守
   - 定期的な点検やソフトウェアのアップデート、脆弱性対応を実施する。
3. 障害管理
   - 障害発生時の迅速な検知と一次対応、復旧作業、原因分析および再発防止策の徹底を図る。
4. 可用性管理
   - システムの冗長化や定期的なバックアップ、フェイルオーバー設計を行い、サービス停止リスクを最小化する。
5. 性能管理
   - リソースの監視やボトルネック分析、パフォーマンスチューニングを継続的に実施し、例えばデータベースのバージョンアップやオプティマイザ更新等による実行計画の変化、機器の経年劣化など能劣化の要因にも注意する。
6. ネットワーク管理
   - 構成変更やトラフィック監視、障害発生時の迅速な対応を行う。
7. セキュリティ管理
   - 脆弱性診断や権限管理、監査ログの取得、インシデント対応を徹底する。
8. 構成管理
   - IaCによる一元管理と変更履歴の記録を行う。
9. 変更管理
   - 申請・承認・テスト・本番反映までのプロセスを厳格に運用する。
10. リリース管理
    - リリース計画の策定、影響範囲の事前通知、ロールバック手順の整備を行う。
11. 保全管理
    - 資産管理やライフサイクル管理、廃棄手順の明確化を含む。
12. 外部接続機能
    - APIや外部サービス連携の監視・保守を実施する。
13. 報告関連
    - 定期レポートの作成や障害・変更・保守履歴の記録を行う。
14. ドキュメント整備
    - 運用・保守手順書や障害対応マニュアル、変更履歴を常に最新化する。
15. サポート体制
    - 問い合わせ対応、FAQ整備、教育・引継ぎを充実させる。
16. 保守に係る目標値
    - SLA（サービスレベル合意）、MTTR（平均復旧時間）、MTBF（平均故障間隔）などを設定し、これらの達成に向けて運用を行う。
